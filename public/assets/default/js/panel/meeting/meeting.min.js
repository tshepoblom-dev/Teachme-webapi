(()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(n){"use strict";function o(e,t){var n=e.val(),o=n.substring(0,n.length-2);return e.val(o+t),o}function i(){n("#timeTwelveSwitch").prop("checked",!1),fromTimepicker=n(".from-clockpicker").clockpicker({placement:"bottom",align:"left",autoclose:!0,twelvehour:!0,donetext:"Done",afterDone:function(){var t=n("#timeTwelveSwitch").is(":checked");console.log("isPM",t);var i=n(".from-clockpicker input"),a=i.val().trim().toUpperCase();a=a.replace(/(AM|PM)$/i,t?"PM":"AM"),console.log("fromval",a);var l=function(t,n){var o=t.match(/^(\d{1,2}):(\d{2})(AM|PM)$/);if(!o)return t;var i=e(o,4),r=(i[0],i[1]),a=i[2],l=i[3];r=parseInt(r),"PM"===l&&12!==r&&(r+=12),"AM"===l&&12===r&&(r=0);var c=60*r+(a=parseInt(a))+n;c%=1440;var s=Math.floor(c/60),d=c%60,u=s>=12?"PM":"AM";return 0===s?s=12:s>12&&(s-=12),console.log("addMinutesToTime return",s.toString().padStart(2,"0")+":"+d.toString().padStart(2,"0")+u),s.toString().padStart(2,"0")+":"+d.toString().padStart(2,"0")+u}(a,60),c=l.slice(-2),s=n(".to-clockpicker input");s.val(l),console.log("totimeVal",l),n(".to-time").html(o(s,c)+' <span class="js-am-pm font-20">'+c+"</span>");var d=a.slice(-2);n(".from-time").removeClass("pulsate").html(o(i,d)+' <span class="js-am-pm font-20">'+d+"</span>"),fromTimepicker.clockpicker("remove"),t&&r("PM","AM");var u=n("#saveTime");u.addClass("loud-pulse"),setTimeout((function(){u.removeClass("loud-pulse")}),5e3)}}),fromTimepicker.clockpicker("show")}function r(e,t){var o=n(".from-time.pulsate").find(".js-am-pm"),i=n(".to-time.pulsate").find(".js-am-pm");if(o.length){o.text(e);var r=n(".from-clockpicker input"),a=r.val();a=a.replace(t,e),r.val(a)}if(i.length){i.text(e);var l=n(".to-clockpicker input"),c=l.val();c=c.replace(t,e),l.val(c)}}function a(e){var t='<div class="">\n    <p class="">'+deleteAlertHint+'</p>\n    <div class="mt-30 d-flex align-items-center justify-content-center">\n        <button type="button" id="deleteTime" data-time-id="'+e+'" class="btn btn-sm btn-primary">'+deleteAlertConfirm+'</button>\n        <button type="button" class="btn btn-sm btn-danger ml-10 close-swl">'+deleteAlertCancel+"</button>\n    </div>\n</div>";Swal.fire({title:deleteAlertTitle,html:t,icon:"warning",showConfirmButton:!1,showCancelButton:!1,allowOutsideClick:function(){return!Swal.isLoading()}})}n("body").on("change","#timeTwelveSwitch",(function(e){e.preventDefault();var t="AM",n="PM";this.checked&&(t="PM",n="AM"),r(t,n)})),n("body").on("click",".add-time",(function(e){e.preventDefault();var t=n(this).closest("tr").attr("data-day"),o='\n        <style>\n        @keyframes saveButtonLoudEffect {\n        0%   { transform: scale(1);     box-shadow: 0 0 0px rgb(255, 200, 20); }\n        20%  { transform: scale(1.2);   box-shadow: 0 0 10px rgb(255, 255, 255); }\n        50%  { transform: scale(0.95);  box-shadow: 0 0 20px rgba(0, 255, 0, 0.8); }\n        70%  { transform: scale(1.05);  box-shadow: 0 0 15px rgba(128, 9, 0, 0.92); }\n        100% { transform: scale(1);     box-shadow: 0 0 0px rgba(1, 255, 8, 0.8); }\n        }\n\n        .loud-pulse {\n        animation: saveButtonLoudEffect 0.5s ease-in-out;\n        }\n        </style>\n\n        <div class="add-time-modal">\n            <div class="add-time-sheet row flex-column-reverse flex-lg-row align-items-center justify-content-center justify-content-lg-between">\n                <div class="clock-box col-12 col-lg-4 d-block position-relative d-flex align-items-center justify-content-center justify-content-lg-start">\n                    <div class="from-clockpicker">\n                        <input type="hidden" class="form-control " value="">\n                    </div>\n                    <div class="to-clockpicker">\n                        <input type="hidden" class="form-control " value="">\n                    </div>\n                </div>\n                <div class="col-12 col-lg-8">\n                    <div class="row">\n                        <div class="col-12 col-lg-4 mb-20 mb-lg-0 d-flex align-items-center justify-content-center custom-control custom-switch on-off-switch pl-0 py-0 py-lg-50">\n                            <label style="margin-right: 60px">AM</label>\n                            <input type="checkbox" class="custom-control-input" id="timeTwelveSwitch">\n                            <label class="custom-control-label" for="timeTwelveSwitch">PM</label>\n                        </div>\n\n                        <div class="col-12 col-lg-8 d-flex flex-column align-items-center justify-content-center py-0 py-lg-50">\n                            <div class="font-48 text-primary from-time pulsate">--:-- <span class="js-am-pm font-16">--</span></div>\n                            <div class="font-weight-500 text-dark-blue">To</div>\n                            <div class="font-48 text-primary to-time">--:-- <span class="js-am-pm font-16">--</span></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n           <input type="hidden" name="meeting_type" value="online">\n\n            <div class="form-group">\n                <label class="input-label">'.concat(descriptionLng,'</label>\n                <textarea name="description" class="form-control" rows="5" placeholder="').concat(saveTimeDescriptionPlaceholder,'"></textarea>\n            </div>\n\n            <div class="mt-30 d-flex align-items-center justify-content-end">\n                <button type="button" data-day="').concat(t,'" id="saveTime" class="btn btn-sm btn-primary">').concat(saveLang,'</button>\n                <button type="button" class="btn btn-sm btn-danger ml-10 close-swl">').concat(closeLang,"</button>\n            </div>\n        </div>\n        ");Swal.fire({html:o,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem",onOpen:function(){setTimeout((function(){i()}),300)},onClose:function(){fromTimepicker.clockpicker("remove")}})})),n("body").on("click","#saveTime",(function(e){e.preventDefault();var t=n(this),o=n(".from-clockpicker input").val(),i=n(".to-clockpicker input").val(),r=t.attr("data-day"),a=t.closest(".add-time-modal"),l=a.find('input[name="meeting_type"]').val(),c=a.find('textarea[name="description"]').val();t.addClass("loadingbar primary").prop("disabled",!0);var s={day:r,time:o+"-"+i,meeting_type:l,description:c};n.post("/panel/meetings/saveTime",s,(function(e){e&&e.registration_package_limited?handleLimitedAccountModal(e.registration_package_limited):e&&200==e.code&&(Swal.fire({title:deleteAlertSuccess,text:successSavedTime,showConfirmButton:!1,icon:"success"}),setTimeout((function(){window.location.reload()}),1e3))})).fail((function(){Swal.fire({title:errorSavingTime,text:noteToTimeMustGreater,icon:"error"}),t.removeClass("loadingbar primary").prop("disabled",!1)})).always((function(){fromTimepicker.clockpicker("remove"),toTimepicker.clockpicker("remove")}))})),n("body").on("change","#inPersonMeetingSwitch",(function(){var e=n("#inPersonMeetingAmount"),t=n("#inPersonGroupMeetingOptions");this.checked?(e.removeClass("d-none"),n("#groupMeetingSwitch").is(":checked")&&t.removeClass("d-none")):(e.addClass("d-none"),t.addClass("d-none"))})),n("body").on("change","#groupMeetingSwitch",(function(){var e=n("#onlineGroupMeetingOptions"),t=n("#inPersonGroupMeetingOptions");this.checked?(e.removeClass("d-none"),n("#inPersonMeetingSwitch").is(":checked")&&t.removeClass("d-none")):(e.addClass("d-none"),t.addClass("d-none"))})),n("body").on("click",".remove-time",(function(e){e.preventDefault(),a(n(this).attr("data-time-id"))})),n("body").on("click","#deleteTime",(function(e){e.preventDefault();var o=n(this).attr("data-time-id");(function(e){var t={time_id:e};n.post("/panel/meetings/deleteTime",t,(function(e){n.toast({heading:deleteAlertSuccess,text:successDeleteTime,bgColor:"#43d477",textColor:"white",hideAfter:5e3,position:"bottom-right",icon:"success"})})).fail((function(){n.toast({heading:deleteAlertFail,text:errorDeleteTime,bgColor:"#f63c3c",textColor:"white",hideAfter:5e3,position:"bottom-right",icon:"error"})}))})(o=o.split(",")),Swal.close();var i,r=function(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=t(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw a}}}}(o);try{for(r.s();!(i=r.n()).done;){var a=i.value;n('.remove-time[data-time-id="'+a+'"]').parent().remove()}}catch(e){r.e(e)}finally{r.f()}})),n("body").on("click",".clear-all",(function(e){e.preventDefault(),a(n(this).closest("tr").find(".selected-time .remove-time").map((function(){return this.dataset.timeId})).get().join(","))})),n("body").on("change","#temporaryDisableMeetingsSwitch",(function(e){e.preventDefault();var t=n(this);loadingSwl();var o=!1;this.checked&&(o=!0);var i={disable:o};n.post("/panel/meetings/temporaryDisableMeetings",i,(function(e){e&&200==e.code&&(Swal.fire({text:requestSuccess,showConfirmButton:!1,icon:"success"}),setTimeout((function(){Swal.close()}),2e3))})).fail((function(){Swal.fire({text:requestFailed,icon:"error"}),t.removeClass("loadingbar primary").prop("disabled",!1)}))})),n("body").on("click","#meetingSettingFormSubmit",(function(e){e.preventDefault();var t=n(this),o=t.closest("form"),i=o.attr("action"),r=serializeObjectByTag(o);t.addClass("loadingbar primary").prop("disabled",!0),n.post(i,r,(function(e){e&&200===e.code&&(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveMeetingSuccessLang+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout((function(){window.location.reload()}),500))})).fail((function(e){t.removeClass("loadingbar primary").prop("disabled",!1);var n=e.responseJSON;n&&n.errors&&Object.keys(n.errors).forEach((function(e){var t=n.errors[e],i=o.find('[name="'+e+'"]');i.addClass("is-invalid"),i.parent().find(".invalid-feedback").text(t[0])}))}))}))}(jQuery)})();